<!DOCTYPE html>
<html>
	<head>
		<title>Zaanga偶owanie w zwizki</title>
		<link rel="stylesheet" href="style.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
		<!-- Chart.js -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.3.0/chart.js" integrity="sha512-L6yov5P1r9QnZX2ZRiq+XBLsm1GQ38zfSDJ6gy3pKmPCqkWvK2nz8Ojlju9q36+zOsMmMB+hYgGrJtJWo4Gy/w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.3.0/chart.umd.js" integrity="sha512-CMF3tQtjOoOJoOKlsS7/2loJlkyctwzSoDK/S40iAB+MqWSaf50uObGQSk5Ny/gfRhRCjNLvoxuCvdnERU4WGg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.3.0/helpers.js" integrity="sha512-BQJ3AP+pvkpSDEexjv6OYwGVCVIFo507d09S8pFPTp63+d7YZDrvjoB+4cSPTThQVfQjP6yybIZ6P29ZQGcPvQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<!-- jQuery -->
		<script src="https://code.jquery.com/jquery-3.7.0.js" integrity="sha256-JlqSTELeR4TLqP0OG9dxM7yDPqX1ox/HfgiSLBj8+kM=" crossorigin="anonymous"></script>
	</head>
	<body>
		<script src="data.js"></script>
		<header>
			<h1>Por贸wnawcza analiza zaanga偶owania w zwizki student贸w</h1>
			<p>kierunk贸w humanistycznych, a kierunk贸w cisych</p>
		</header>
		<div class="container">
			<div class="row">
				<aside class="col-2">
					<h2>Spis treci</h2>
					<ul>
						<li><a href="index.html">Wstp</a></li>
						<li><a href="wykres0.html">Informacje o danych</a></li>
						<li><a href="wykres1.html">Partnerzy z uniwersytetu</a></li>
						<li><a href="wykres5.html" class="nav-active">Zwizki na odlego</a></li>
						<li><a href="wykres14.html">Zwizki z t sam pci</a></li>
						<li><a href="wykres2.html">Dugo trwania zwizku</a></li>
						<li><a href="wykres17.html">Stay zwizek</a></li>
						<li><a href="wykres6.html">Aplikacje randkowe</a></li>
						<li><a href="wykres7.html">Aplikacje randkowe vol. 2</a></li>
						<li><a href="wykres15.html">Czy teraz trudniej znale藕 partnera ni偶 kiedy?</a></li>
						<li><a href="wykres4.html">Kontakty seksualne</a></li>
						<li><a href="wykres8.html">Seks bez zobowiza</a></li>
						<li><a href="wykres9.html">Sexting</a></li>
						<li><a href="wykres13.html">Presja powoduje kr贸tsze zwizki</a></li>
						<li><a href="wykres16.html">Niemonogamiczny zwizek</a></li>
						<li><a href="wykres12.html">Priorytety</a></li>
						<li><a href="wykres11.html">Wpyw pandemii na zwizki</a></li>
						<li><a href="wykres3.html">Najczstsze powody rozstania</a></li>
						<li><a href="wykres10.html">Czy warto szuka partnera?</a></li>
					</ul>
				</aside>
				<main class="col-10">
					<h2 class="chart-title">Zwizki na odlego</h2>
					<div class="chart-small">
						<canvas class="chart-js" id="myChart"></canvas>
					</div>
					<div class="actions-bar">
						<button id="all" class="active">Wszystko</button>
						<button id="science">Studia cise</button>
						<button id="humanities">Studia humanistyczne</button>
					</div>
					<hr>
					<p>
						75% student贸w/studentek z Wielkiej Brytanii deklaruje, 偶e znajdowao si lub aktualnie jest w zwizku na odlego. Ankietowani wskazuj, 偶e g贸wn trudnoci w utrzymaniu zwizku dugodystansowego jest brak fizycznej intymnoci - szok く
						</br></br>
						Na podstawie danych: "RELATIONSHIP STATISTICS 2023: SUCCESS RATES, BREAKUPS & MARRIAGES" z portalu EarthWeb
					</p>
					<hr>
					<div class="row">
						<div class="col-6">
							<a class="button button" href="wykres1.html">Poprzedni wykres</a>
						</div>
						<div class="col-6 text-right">
							<a class="button" href="wykres14.html">Nastpny wykres</a>
						</div>
					</div>
					<script>
						
						// wyciganie danych z pliku (data.js)
						let close_science = 0
						let close_humanities = 0
						let distant_science = 0
						let distant_humanities = 0
						let none_science = 0
						let none_humanities = 0
						
						for (let i = 0; i < data.length; i++) {
							if (data[i].na_odlego == "tak" || data[i].zw_odlego == "tak") {
								if (data[i].studia == "humanistyczne")
									distant_humanities++
								else if (data[i].studia == "cise")
									distant_science++
							} else if (data[i].na_odlego == "nie" || data[i].zw_odlego == "nie") {
								if (data[i].studia == "humanistyczne")
									close_humanities++
								else if (data[i].studia == "cise")
									close_science++
							} else if (data[i].na_odlego == "" && data[i].zw_odlego == "") {
								if (data[i].studia == "humanistyczne")
									none_humanities++
								else if (data[i].studia == "cise")
									none_science++
							}
						}
						
						// tworzenie wykresu
						var ctx = document.getElementById('myChart').getContext('2d');
						var chart = new Chart(ctx, {
							type: 'pie',
							data: {
								labels: ['W zwizku tradycyjnym', 'W zwizku na odlego', 'Nie znajduj si w zwizku'],
								datasets: [{
									data: [close_humanities + close_science, distant_humanities + distant_science, none_humanities + none_science],
									backgroundColor: [
										'rgba(255, 99, 132, 0.4)',
										'rgba(75, 192, 192, 0.4)',
										'rgba(255, 205, 86, 0.4)',
										'rgba(201, 203, 207, 0.4)',
										'rgba(54, 162, 235, 0.4)'
									],
								}]
							},
							options: {
								plugins: {
									title: {
										display: true,
										text: 'Wszyscy studenci'
									}
								}
							},
						});
						
						// funkcje przycisk贸w akcji
						function all () {
							$("#all").addClass("active");
							$("#science").removeClass("active");
							$("#humanities").removeClass("active");
							chart.options.plugins.title.text = "Wszyscy studenci"
							chart.data.datasets[0].data = [close_humanities + close_science, distant_humanities + distant_science, none_humanities + none_science]
							chart.update()
						}
						function science () {
							$("#all").removeClass("active");
							$("#science").addClass("active");
							$("#humanities").removeClass("active");
							chart.options.plugins.title.text = "Studenci kierunk贸w cisych"
							chart.data.datasets[0].data = [close_science, distant_science, none_science]
							chart.update()
						}
						function humanities () {
							$("#all").removeClass("active");
							$("#science").removeClass("active");
							$("#humanities").addClass("active");
							chart.options.plugins.title.text = "Studenci kierunk贸w humanistycznych"
							chart.data.datasets[0].data = [close_humanities, close_humanities, none_humanities]
							chart.update()
						}
						
						// eventListener do ka偶dego przycisku
						document.getElementById("all").addEventListener("click", all);
						document.getElementById("science").addEventListener("click", science);
						document.getElementById("humanities").addEventListener("click", humanities);
					</script>
				</main>
			</div>
		</div>
		<footer>
			<p>Aleksander Kotarski, Pawe Kr贸l, Piotr Ksi偶ek, Tomasz Rczkowski</p>
		</footer>
	</body>
</html>